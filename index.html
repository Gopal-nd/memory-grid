
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memory Grid</title>
  <meta name="description" content="Check your Memory Power, Improve it fsater ever before">
  <meta name="keywords" content="Memory ,Power, Game, Grid">
  <meta name="Developer" content="Gopal N D">
  <!-- og(open graph) tags are used in social media  -->
  <meta property="og:title" content="Improve it fsater ever before, Check your Memory Power ">
  <meta property="og:description" content="rid of face-down cards that users flip to find matching pairs.">
  <meta property="og:image" content="./assets/download.png">
  <meta property="og:url" content="https://gopal-nd.github.io/typewrite/">
  <meta property="og:type" content="website" />
  <!-- website refresh  -->
  <!-- <meta http-equiv="refresh" content="5" /> -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
     .matched {
      background-color: green !important;
      pointer-events: none;
    }
    .selected {
      outline: 2px solid yellow;
    }
  </style>

</head>
<body class="bg-black text-white text-center m-10  h-full">
  <h1 class="text-3xl font-bold mb-4">Memory Grid Game</h1>
  <div class="mb-4">
    <input type="range" id="gridSize" min="2" max="10" step="2" value="2" class="">
    <p>Grid Size: <span id="gridSizeValue">2</span></p>
  </div>
  <div id="grid" class="grid gap-2 p-4  "></div>
 
   
      
  <script>
    const gridSizeInput = document.getElementById('gridSize');
    const gridSizeValue = document.getElementById('gridSizeValue');
    const grid = document.getElementById('grid');
    let combinations = [];
    let compareCombination = [];
    let first = null;
    let second = null;
    let canClick = true; // New flag to control click handling

    GenerateCombinations(2);

    function ShuffleElement(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function GenerateCombinations(n) {
      combinations = [];
      compareCombination = [];
      let letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      for (let i = 0; i < n; i++) {
        for (let j = 0; j < n; j++) {
          combinations.push(letters[i] + letters[j]);
        }
      }
      combinations = combinations.slice(0, n * n / 2);
      compareCombination = combinations.concat(combinations);
      compareCombination = ShuffleElement(compareCombination);
      createGrid(n);
    }

    function createGrid(n) {
      first = null;
      second = null;
      canClick = true; // Reset click flag when grid changes
      grid.innerHTML = '';
      grid.className = `grid gap-2 p-4 grid-rows-${n} grid-cols-${n}`;
      const totalCards = n * n;
      for (let i = 0; i < totalCards; i++) {
        const cell = document.createElement('div');
        cell.className = 'bg-gray-800 rounded-md p-4 text-center cursor-pointer';
        cell.textContent = '?';
        cell.dataset.value = compareCombination[i];
        cell.addEventListener('click', handleCardClick);
        grid.appendChild(cell);
      }
    }

    function handleCardClick(e) {
      if (!canClick) return; // Prevent clicks during animation
      const cell = e.currentTarget;
      
      if (cell.classList.contains('matched') || cell.textContent !== '?') return;

      cell.textContent = cell.dataset.value;

      if (!first) {
        first = cell;
        cell.classList.add('selected');
      } else {
        if (first === cell) return; // Prevent double-click on same card
        second = cell;
        second.classList.add('selected');
        canClick = false; // Disable further clicks during comparison

        if (first.dataset.value === second.dataset.value) {
          // Match found
          first.classList.add('matched');
          second.classList.add('matched');
          first.classList.remove('selected');
          second.classList.remove('selected');
          first = null;
          second = null;
          canClick = true;
        } else {
          // No match - reset after delay
          setTimeout(() => {
            first.textContent = '?';
            second.textContent = '?';
            first.classList.remove('selected');
            second.classList.remove('selected');
            first = null;
            second = null;
            canClick = true;
          }, 600);
        }
      }
    }

    gridSizeInput.addEventListener('input', () => {
      const n = Number(gridSizeInput.value);
      gridSizeValue.textContent = n;
      GenerateCombinations(n);
    });

    createGrid(Number(gridSizeInput.value));
</script>
</body>
</html>
